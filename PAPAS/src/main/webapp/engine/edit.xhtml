<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

<h:form id="form">
	<h:panelGrid id="panel" columns="2" cellpadding="0">

		<h:outputText value="#{msg['engine.edit.make']}" />

		<h:panelGroup id="makePanel">
			<h:selectOneMenu id="makeSelect" value="#{engineEditBean.manufacturer}"	style="width:350px;" styleClass="chosen-select">
				<f:selectItem itemLabel="" itemValue="#{null}" />
				<f:selectItems value="#{engineEditBean.availableManufacturerList}" />
				<a4j:ajax listener="#{engineEditBean.updateModelList}" execute="@this" render="modelPanel"/>
			</h:selectOneMenu>
			<h:outputScript>
               jQuery("#form\\:makeSelect").chosen({});
        	</h:outputScript>
		</h:panelGroup>
		
		
		<h:outputText value="#{msg['engine.edit.model']}" />

		<h:panelGroup id="modelPanel">
			<h:selectOneMenu id="modelSelect" value="#{engineEditBean.model}" style="width:350px;" styleClass="chosen-select">
				<f:selectItem itemLabel="" itemValue="#{null}" />
				<f:selectItems value="#{engineEditBean.availableModelList}" />
				<a4j:ajax listener="#{engineEditBean.updateCodeList}" execute="@this" render="codePanel"/>
			</h:selectOneMenu>
			<h:outputScript>
               jQuery("#form\\:modelSelect").chosen({});
        	</h:outputScript>
		</h:panelGroup>

		<h:outputText value="#{msg['engine.edit.code']}" />

		<h:panelGroup id="codePanel">
			<h:selectOneMenu id="codeSelect" value="#{engineEditBean.engineId}" style="width:350px;" styleClass="chosen-select">
				<f:selectItem itemLabel="" itemValue="#{null}" />
				<f:selectItems value="#{engineEditBean.availableEngineCodesList}" />
			</h:selectOneMenu>
			<h:outputScript>
               jQuery("#form\\:codeSelect").chosen({});
        	</h:outputScript>
		</h:panelGroup>
		
		<h:outputText value="#{msg['engine.edit.codefull']}" />
		
		<h:inputText value="#{engineEditBean.engineCodeFull}" />
		
		
		<h:outputText value="#{msg['engine.edit.year']}" />

		<h:panelGroup id="yearPanel">
			<h:selectOneMenu id="yearSelect" value="#{engineEditBean.year}" style="width:350px;" styleClass="chosen-select">
				<f:selectItem itemLabel="" itemValue="#{null}" />
				<f:selectItems value="#{engineEditBean.availableYearsList}" />
			</h:selectOneMenu>
			<h:outputScript>
               jQuery("#form\\:yearSelect").chosen({});
        	</h:outputScript>
		</h:panelGroup>

	</h:panelGrid>

	<a4j:commandButton value="#{msg['engine.edit.save']}" execute="@form" action="#{engineEditBean.doSave}" />

</h:form>
<h:messages />


</html>